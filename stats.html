<!DOCTYPE html>
<html ng-app="scoreApp">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Stats</title>

	<!-- these three are jquery mandatory -->
	<script type="text/javascript" src="includes/libs/jquery-1.10.2.min.js"></script>

	<!-- these two are wui mandatory -->
	<link rel="stylesheet" type="text/css" href="includes/libs/bootstrap.min.css" /> 

	<!-- angularjs -->
	<script type="text/javascript" src="includes/libs/angular.min.js"></script> 
	<script type="text/javascript" src="includes/libs/bindonce.js"></script> 

	<script type="text/javascript" src="includes/libs/ui-bootstrap-tpls-0.9.0.min.js"></script>
	
	<!-- for this particular file  -->
	<script src="includes/scores.js"></script>
	<script src="includes/httpservice.js"></script>
	<script src="includes/stats.js"></script>
	<script src="includes/menucontroller.js"></script>

	<style type="text/css">
		 .gridStyle {
			border: 1px solid rgb(212,212,212);
			width: 99%; 
			height: 500px;
		}
		.evenrowclass tr:nth-child(even) {
			background-color: rgb(240,240,240);
		}
		.input-mini { width: 40px; }
		.input-mini2 { width: 60px; }
		.input-small { width: 90px; }
		.input-medium { width: 120px; }
		table.inner { width: 100%; }
	</style>
</head>

<body style="overflow:auto">
	<div ng-controller="menuController">
		<tabset>
			<tab heading="Spel" select="loadSpel(false)">
			</tab>
			<tab heading="Stats" select="loadStats(true)" active="active">
			</tab>
			<tab heading="Admin" select="loadAdmin(false)">
			</tab>
		</tabset>
	</div>
	<div ng-controller="scoreController">
		<tabset>
			<tab heading="Games">
				<div id="gamesHeader" style="overflow-y: scroll;">
					<table id="resulttable" class="table table-bordered" style="table-layout:fixed">
						<thead>
							<tr>
								<th class="input-small">Season</th>
								<th class="input-small">Date</th>
								<th class="input-small">Host</th>
								<th class="input-medium">Game</th>
								<th class="input-mini">Daniel</th>
								<th class="input-mini">Johan</th>
								<th class="input-mini">Marcus</th>
								<th class="input-mini">Mattias</th>
								<th class="input-mini">Stefan</th>
							</tr>
							<tr>
								<td class="input-small"><form ng-submit="applyFilter()"><input type="text" placeholder="Filter..." ng-model="gameFilter.season" class="input-small" /></form></td>
								<td class="input-small"><form ng-submit="applyFilter()"><input type="text" placeholder="Filter..." ng-model="gameFilter.date" class="input-small"/></form></td>
								<td class="input-small"><form ng-submit="applyFilter()"><input type="text" placeholder="Filter..." ng-model="gameFilter.host" class="input-small"/></form></td>
								<td class="input-medium"><form ng-submit="applyFilter()"><input type="text" placeholder="Filter..." ng-model="gameFilter.game" class="input-medium"/></form></td>
								<td class="input-mini"></td>
								<td class="input-mini"></td>
								<td class="input-mini"></td>
								<td class="input-mini"></td>
								<td class="input-mini"></td>
							</tr>
						</thead>
					</table>
				</div>
				<div id ="gamesList" style="overflow-y: scroll;" resize padding="280">
					<table id="resulttable2" class="table table-bordered" style="table-layout:fixed">
						<tr ng-class-even="{'evenrow': true}" ng-repeat="game in filteredItems">
							<td class="input-small">{{game.season}}</td>
							<td class="input-small">{{game.date}}</td>
							<td class="input-small">{{game.host}}</td>
							<td class="input-medium">{{game.game}}</td>
							<td class="input-mini">{{game.points[0] | number:2}}</td>
							<td class="input-mini">{{game.points[1] | number:2}}</td>
							<td class="input-mini">{{game.points[2] | number:2}}</td>
							<td class="input-mini">{{game.points[3] | number:2}}</td>
							<td class="input-mini">{{game.points[4] | number:2}}</td>
						</tr>
					</table>
				</div>
				<div id ="avg" style="overflow-y: scroll;">
					<table id="avgtable" class="table table-bordered" style="table-layout:fixed; border-top:thick double #000000;">
						<tr>
							<td class="input-small"></td>
							<td class="input-small"></td>
							<td class="input-small"></td>
							<td class="input-medium">Total:</td>
							<td class="input-mini">{{totals[0] | number:2}}</td>
							<td class="input-mini">{{totals[1] | number:2}}</td>
							<td class="input-mini">{{totals[2] | number:2}}</td>
							<td class="input-mini">{{totals[3] | number:2}}</td>
							<td class="input-mini">{{totals[4] | number:2}}</td>
						</tr>
						<tr>
							<td class="input-small"></td>
							<td class="input-small"></td>
							<td class="input-small"></td>
							<td class="input-medium">Average:</td>
							<td class="input-mini">{{averages[0] | number:2}}</td>
							<td class="input-mini">{{averages[1] | number:2}}</td>
							<td class="input-mini">{{averages[2] | number:2}}</td>
							<td class="input-mini">{{averages[3] | number:2}}</td>
							<td class="input-mini">{{averages[4] | number:2}}</td>
						</tr>
					</table>
				</div>
			</tab>
			<tab heading="Average">
				<div id="average" style="overflow-y: scroll;">
					<table id="Table1" class="table table-bordered" style="table-layout:fixed">
						<thead>
							<tr>
								<th class="input-medium"><a href="" ng-click="predicate = 'game'; reverse=!reverse">Game</a></th>
								<th class="input-mini"><a href="" ng-click="predicate = 'gameTotal'; reverse=!reverse">Games Played</a></th>
								<th class="input-mini"><a href="" ng-click="predicate = 'average[0]'; reverse=!reverse">Daniel</a></th>
								<th class="input-mini"><a href="" ng-click="predicate = 'average[1]'; reverse=!reverse">Johan</a></th>
								<th class="input-mini"><a href="" ng-click="predicate = 'average[2]'; reverse=!reverse">Marcus</a></th>
								<th class="input-mini"><a href="" ng-click="predicate = 'average[3]'; reverse=!reverse">Mattias</a></th>
								<th class="input-mini"><a href="" ng-click="predicate = 'average[4]'; reverse=!reverse">Stefan</a></th>
							</tr>
							<tr>
								<td class="input-medium"><form ng-submit="applyFilter2()"><input type="text" placeholder="Filter..." ng-model="avgFilter.game" class="input-medium" /></form></td>
								<td class="input-mini"></td>
								<td class="input-mini"></td>
								<td class="input-mini"></td>
								<td class="input-mini"></td>
								<td class="input-mini"></td>
							</tr>
						</thead>
					</table>
				</div>
				<div id ="Div2" style="overflow-y: scroll;" resize padding="200">
					<table id="Table2" class="table table-bordered" style="table-layout:fixed">
						<tr ng-class-even="{'evenrow': true}" ng-repeat="game in filteredAvgItems | orderBy:predicate:reverse">
							<td class="input-medium">{{game.game}}</td>
							<td class="input-mini">{{game.gameTotal}}</td>
							<td class="input-mini">{{game.average[0] | number:2}}</td>
							<td class="input-mini">{{game.average[1] | number:2}}</td>
							<td class="input-mini">{{game.average[2] | number:2}}</td>
							<td class="input-mini">{{game.average[3] | number:2}}</td>
							<td class="input-mini">{{game.average[4] | number:2}}</td>
						</tr>
					</table>
				</div>
			</tab>
		</tabset>
	</div>
</body>
</html>
